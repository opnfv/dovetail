{
  "comments": [
    {
      "key": {
        "uuid": "5ac10518_1ce8a17b",
        "filename": "dovetail/utils/dovetail_logger.py",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 514
      },
      "writtenOn": "2016-11-01T14:16:28Z",
      "side": 1,
      "message": "No risk of accidental excessive rm here? I\u0027m always nervous when I see \"rm -rf\" with user-input.\n\nCan I suggest checking that a file specific to Dovetail test runs is checked as being in the directory before removing the tree?",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 35,
        "endChar": 30
      },
      "revId": "590a3bee3283725f1d5ddfa7c5e906f00e53e443",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_a74a9653",
        "filename": "dovetail/utils/dovetail_logger.py",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 3299
      },
      "writtenOn": "2016-11-01T17:46:00Z",
      "side": 1,
      "message": "If you\u0027re just cleaning the results dir, I think it would make sense to just clean out the contents of the directory. Are we expecting there to be subdirs under the result_dir too, or just logs?\n\nIf no subdirs, then we could drop the -r flag (recursive), which at least makes this a bit safer.\n\nAlso, instead of running a direct shell command, shouldn\u0027t we use a more generic interface like shutil, or even glob and loop over the files to drop them?",
      "parentUuid": "5ac10518_1ce8a17b",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 35,
        "endChar": 30
      },
      "revId": "590a3bee3283725f1d5ddfa7c5e906f00e53e443",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_87d51a45",
        "filename": "dovetail/utils/dovetail_logger.py",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 5469
      },
      "writtenOn": "2016-11-02T02:16:56Z",
      "side": 1,
      "message": "In order to avoid confusion between old and new results, it needs to cleanup the results directory before running a new test.\nAll results have been checked at the end of last run for generating reports, and then will be saved for manual check.\nFor the new run, the old results are useless and should be replaced by new results.",
      "parentUuid": "5ac10518_1ce8a17b",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 35,
        "endChar": 30
      },
      "revId": "590a3bee3283725f1d5ddfa7c5e906f00e53e443",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_a7bdb604",
        "filename": "dovetail/utils/dovetail_logger.py",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 5469
      },
      "writtenOn": "2016-11-02T02:16:56Z",
      "side": 1,
      "message": "The results dir has subdirs such as \u0027tempest/\u0027 stroing all tempest test results.\nFor all the result files generated by functest/yardstick docker containers, they have the \u0027root root\u0027 privilege. So shutil doesn\u0027t work. Except \u0027rm -rf\u0027, I can\u0027t come up with a better choice currently.",
      "parentUuid": "5ac10518_a74a9653",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 35,
        "endChar": 30
      },
      "revId": "590a3bee3283725f1d5ddfa7c5e906f00e53e443",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_e7e65e16",
        "filename": "dovetail/utils/dovetail_logger.py",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 5469
      },
      "writtenOn": "2016-11-02T03:48:26Z",
      "side": 1,
      "message": "I just found \u0027rm -rf\u0027 will be invalid in some situations. I am working on giving a stronger cmd.",
      "parentUuid": "5ac10518_a7bdb604",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 35,
        "endChar": 30
      },
      "revId": "590a3bee3283725f1d5ddfa7c5e906f00e53e443",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac10518_e7409e37",
        "filename": "dovetail/utils/dovetail_logger.py",
        "patchSetId": 2
      },
      "lineNbr": 59,
      "author": {
        "id": 3299
      },
      "writtenOn": "2016-11-01T17:46:00Z",
      "side": 1,
      "message": "Thank you! This has been bothering me.",
      "revId": "590a3bee3283725f1d5ddfa7c5e906f00e53e443",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    }
  ]
}