##############################################################################
# Copyright (c) 2019 opnfv.
#
# All rights reserved. This program and the accompanying materials
# are made available under the terms of the Apache License, Version 2.0
# which accompanies this distribution, and is available at
# http://www.apache.org/licenses/LICENSE-2.0
##############################################################################

---
functest.bgpvpn.router_association_floating_ip:
  name: functest.bgpvpn.router_association_floating_ip
  objective: associate Neutron Router with an attached subnet to a VPN and verify reachability of the Floating IP
  validate:
    type: functest
    testcase: bgpvpn
    image_name: opnfv/functest-features
    pre_condition:
      - 'cp /home/opnfv/userconfig/bgpvpn_testcases.yaml /usr/lib/python2.7/site-packages/xtesting/ci/testcases.yaml'
      - 'cp /home/opnfv/userconfig/sdnvpn_config_testcase8.yaml /usr/lib/python2.7/site-packages/sdnvpn/test/functest/config.yaml'
  report:
    source_archive_files:
      - functest.log
    dest_archive_files:
      - bgpvpn_logs/functest.bgpvpn.router_association_floating_ip.log
    check_results_files:
      - 'functest_results.txt'
    sub_testcase_list:
