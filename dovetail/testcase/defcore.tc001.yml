---
dovetail.defcore.tc001:
  name: dovetail.defcore.tc001
  objective: > # Set of DefCore tempest test cases not flagged and required. It only contains OpenStack core (no object storage)
    # The approved guidelines (2016.08) are valid for Kilo, Liberty, Mitaka and Newton releases of OpenStack
    # The list can be generated using the Rest API from RefStack project:
    # https://refstack.openstack.org/api/v1/guidelines/2016.08/tests?target=compute&type=required&alias=true&flag=false
  validate:
    type: functest
    testcase: refstack_defcore
    pre_condition:
      - 'cp /home/opnfv/userconfig/pre_config/tempest_conf.yaml /usr/local/lib/python2.7/dist-packages/functest/opnfv_tests/openstack/tempest/custom_tests/tempest_conf.yaml'
    pre_copy:
      src_file: defcore.txt
      dest_path: /usr/local/lib/python2.7/dist-packages/functest/opnfv_tests/openstack/refstack_client/defcore.txt
    cmds:
      - 'functest env prepare'
      - 'functest testcase run refstack_defcore -r'
    post_condition:
      - 'echo test for postcondition in testcase'
  report:
    sub_testcase_list:
      - tempest.api.compute.volumes.test_attach_volume.AttachVolumeTestJSON.test_attach_detach_volume
